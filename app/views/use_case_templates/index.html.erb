<%- model_class = UseCaseTemplate -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.pluralize.titleize %></h1>
</div>
<%= render 'nav_bar' %>

<div class="accordion" id="#accordion_groups">
  <% @use_case_templates.each do |template| %>
    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion_groups" href='#collapse<%= "_#{template.id}" %>'>
          <%= template.name %>
        </a>
      </div>
      <div id='collapse<%= "_#{template.id}"%>' class="accordion-body collapse">
        <div class="accordion-inner">
          <ul>
            <% JSON.parse(template.template_form).each do |attribute| %>
              <li><%= attribute[1]["name"] %>
                <ul>
                  <li>Input: <%= attribute[1]["input_type"] %></li>
                  <li>Data Type: <%= attribute[1]["data_type"] %></li>
                  <li>Data Input: <%= attribute[1]["data_input"] %></li>
                </ul>
              </li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>
</div>

<%= link_to t('.new', :default => t("helpers.links.new")),
            new_project_use_case_template_path,
            :class => 'btn btn-primary' %>
